/*https://github.com/azhai/Snowfall*/
var fqs=25;
var per_fqs=Math.round(1000/fqs);if(!Date.now){Date.now=function(){return new Date().getTime()}}(function(){var d=["webkit","moz"];for(var b=0;b<d.length&&!window.requestAnimationFrame;++b){var a=d[b];window.requestAnimationFrame=window[a+"RequestAnimationFrame"];window.cancelAnimationFrame=(window[a+"CancelAnimationFrame"]||window[a+"CancelRequestAnimationFrame"])}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var c=0;window.requestAnimationFrame=function(g){var f=Date.now();var e=Math.max(c+per_fqs,f);return setTimeout(function(){g(c=e)},e-f)};window.cancelAnimationFrame=clearTimeout}}());var snowFall=(function(){function a(){var f={flakeCount:20,flakeColor:"#ffffff",colorAlpha:1,flakeIndex:999999,flakePosition:"absolute",minSize:1,maxSize:2,minSpeed:1,maxSpeed:5,leftDeg:0,rightDeg:0,colorful:false,rounded:false,shadow:false,collection:false,image:false,background:false,riseUp:false,blocks:[],collectionHeight:40},q=[],k={},l=0,s=0,e=0,d=0,o=function(v,t){for(var u in t){if(v.hasOwnProperty(u)){v[u]=t[u]}}},c=function(t,u){t.style.webkitTransform=u;t.style.MozTransform=u;t.style.msTransform=u;t.style.OTransform=u;t.style.transform=u},b=function(u,t){return u+Math.random()*(t-u)},p=function(u,t){return Math.round(b(u,t))},h=function(t){return Math.round((1-Math.pow(Math.random(),2)/2)*t)},g=function(v,y){var x=h("0x"+v.substr(1,2)),w=h("0x"+v.substr(3,2)),t=h("0x"+v.substr(5,2)),u=Math.round(b(y,1)*100)/100;return"rgba("+x+", "+w+", "+t+", "+u+")"},n=function(t,u){for(var v in u){if(v=="width"||v=="height"){t.style[v]=Math.round(u[v])+"px"}else{t.style[v]=u[v]}}},j=function(A,x,v,B,t){this.left=B;this.right=t;this.x=b(this.left,this.right);this.y=b(0,l);this.size=x;this.speed=v;this.step=0;this.stepSize=p(1,10)/100;if(f.collection){this.target=canvasCollection[b(0,canvasCollection.length-1)]}var y=null;if(f.image){y=new Image();y.src=f.image}else{y=document.createElement("div");var w=f.flakeColor;if(f.colorful){w=g(w,f.colorAlpha)}n(y,{"background":w})}y.className="snowfall-flakes";n(y,{"width":this.size,"height":this.size,"position":f.flakePosition,"top":0,"left":0,"will-change":"transform","fontSize":0,"zIndex":f.flakeIndex});if(f.rounded){var z=Math.round(f.maxSize)+"px";n(y,{"-moz-border-radius":z,"-webkit-border-radius":z,"borderRadius":z})}if(f.shadow){var u="1px 1px 1px #555";n(y,{"-moz-box-shadow":u,"-webkit-box-shadow":u,"boxShadow":u})}if(A.tagName===document.body.tagName){document.body.appendChild(y)}else{A.appendChild(y)}this.element=y;this.update=function(){if(f.riseUp){this.y-=this.speed;if(this.y<6){this.reset()}}else{this.y+=this.speed;if(this.y>l-(this.size+6)){this.reset()}}var E="translateY("+Math.round(this.y)+"px) translateX("+Math.round(this.x)+"px)";if(!f.rounded){if(f.leftDeg>0||f.rightDeg>0){var C=Math.min(f.leftDeg,180),D=Math.min(f.rightDeg,180);E+=" rotate("+p(-C,D)+"deg)"}}c(this.element,E);this.step+=this.stepSize;this.x+=Math.cos(this.step);if(this.x+this.size>this.right||this.x<this.left){this.reset()}};this.reset=function(){this.stepSize=p(1,10)/100;this.size=p((f.minSize*100),(f.maxSize*100))/100;this.y=f.riseUp?l-this.size:0;this.x=b(this.left,this.right);this.element.style.width=this.size+"px";this.element.style.height=this.size+"px";this.speed=b(f.minSpeed,f.maxSpeed)}},r=0,m=function(){var u=Date.now();if(u-r>=per_fqs){r=u;for(var t in q){q[t].update()}}d=requestAnimationFrame(function(){m()})};return{snow:function(x,A){o(f,A);k=x;l=k.offsetHeight;s=k.offsetWidth;k.snow=this;k.style.backgroundImage=f.background?"url("+f.background+")":"";if(k.tagName.toLowerCase()==="body"){e=25}window.addEventListener("resize",function(){l=k.clientHeight;s=k.offsetWidth},true);var B,v,u=e,z=s-e;var y=-1,w=f.blocks.length;var t=function(){if(w<=1){return w-1}y=(y+1)%w;return y};for(i=0;i<f.flakeCount;i+=1){B=b((f.minSize*100),(f.maxSize*100))/100;v=b(f.minSpeed,f.maxSpeed);if(w>0){y=t();u=f.blocks[y].left*s/100;z=f.blocks[y].right*s/100}q.push(new j(k,B,v,u,z))}m()},clear:function(){var u=null;if(!k.getElementsByClassName){u=k.querySelectorAll(".snowfall-flakes")}else{u=k.getElementsByClassName("snowfall-flakes")}var t=u.length;while(t--){if(u[t].parentNode===k){k.removeChild(u[t])}}cancelAnimationFrame(d)}}}return{snow:function(d,b){if(typeof(b)=="string"){if(d.length>0){for(var c in d){if(d[c].snow){d[c].snow.clear()}}}else{d.snow.clear()}}else{if(d.length>0){for(var c in d){new a().snow(d[c],b)}}else{new a().snow(d,b)}}}}})();