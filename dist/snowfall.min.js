if(!Date.now){Date.now=function(){return new Date().getTime()}}(function(){var d=["webkit","moz"];for(var b=0;b<d.length&&!window.requestAnimationFrame;++b){var a=d[b];window.requestAnimationFrame=window[a+"RequestAnimationFrame"];window.cancelAnimationFrame=(window[a+"CancelAnimationFrame"]||window[a+"CancelRequestAnimationFrame"])}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var c=0;window.requestAnimationFrame=function(g){var f=Date.now();var e=Math.max(c+16,f);return setTimeout(function(){g(c=e)},e-f)};window.cancelAnimationFrame=clearTimeout}}());var snowFall=(function(){function a(){var f={blocks:[],riseUp:false,flakeCount:35,flakeColor:"#ffffff",flakeIndex:999999,flakePosition:"absolute",minSize:1,maxSize:2,minSpeed:1,maxSpeed:5,round:false,shadow:false,collection:false,image:false,collectionHeight:40},n=[],h={},j=0,o=0,e=0,d=0,m=function(r,p){for(var q in p){if(r.hasOwnProperty(q)){r[q]=p[q]}}},c=function(p,q){p.style.webkitTransform=q;p.style.MozTransform=q;p.style.msTransform=q;p.style.OTransform=q;p.style.transform=q},b=function b(q,p){return Math.round(q+Math.random()*(p-q))},l=function(p,q){for(var r in q){p.style[r]=q[r]+((r=="width"||r=="height")?"px":"")}},g=function(u,q,p,r,t){this.left=r;this.right=t;this.x=b(this.left,this.right);this.y=b(0,j);this.size=q;this.speed=p;this.step=0;this.stepSize=b(1,10)/100;if(f.collection){this.target=canvasCollection[b(0,canvasCollection.length-1)]}var s=null;if(f.image){s=new Image();s.src=f.image}else{s=document.createElement("div");l(s,{"background":f.flakeColor})}s.className="snowfall-flakes";l(s,{"width":this.size,"height":this.size,"position":f.flakePosition,"top":0,"left":0,"will-change":"transform","fontSize":0,"zIndex":f.flakeIndex});if(f.round){l(s,{"-moz-border-radius":~~(f.maxSize)+"px","-webkit-border-radius":~~(f.maxSize)+"px","borderRadius":~~(f.maxSize)+"px"})}if(f.shadow){l(s,{"-moz-box-shadow":"1px 1px 1px #555","-webkit-box-shadow":"1px 1px 1px #555","boxShadow":"1px 1px 1px #555"})}if(u.tagName===document.body.tagName){document.body.appendChild(s)}else{u.appendChild(s)}this.element=s;this.update=function(){if(f.riseUp){this.y-=this.speed;if(this.y<6){this.reset()}}else{this.y+=this.speed;if(this.y>j-(this.size+6)){this.reset()}}c(this.element,"translateY("+this.y+"px) translateX("+this.x+"px)");this.step+=this.stepSize;this.x+=Math.cos(this.step);if(this.x+this.size>this.right||this.x<this.left){this.reset()}};this.reset=function(){this.stepSize=b(1,10)/100;this.size=b((f.minSize*100),(f.maxSize*100))/100;this.y=f.riseUp?j-this.size:0;this.x=b(this.left,this.right);this.element.style.width=this.size+"px";this.element.style.height=this.size+"px";this.speed=b(f.minSpeed,f.maxSpeed)}},k=function(){for(var p=0;p<n.length;p+=1){n[p].update()}d=requestAnimationFrame(function(){k()})};return{snow:function(t,w){m(f,w);h=t;j=h.offsetHeight;o=h.offsetWidth;h.snow=this;if(h.tagName.toLowerCase()==="body"){e=25}window.addEventListener("resize",function(){j=h.clientHeight;o=h.offsetWidth},true);var x,r,q=e,v=o-e;var u=-1,s=f.blocks.length;var p=function(){if(s<=1){return s-1}u=(u+1)%s;return u};for(i=0;i<f.flakeCount;i+=1){x=b((f.minSize*100),(f.maxSize*100))/100;r=b(f.minSpeed,f.maxSpeed);if(s>0){u=p();q=f.blocks[u].left*o/100;v=f.blocks[u].right*o/100}n.push(new g(h,x,r,q,v))}k()},clear:function(){var q=null;if(!h.getElementsByClassName){q=h.querySelectorAll(".snowfall-flakes")}else{q=h.getElementsByClassName("snowfall-flakes")}var p=q.length;while(p--){if(q[p].parentNode===h){h.removeChild(q[p])}}cancelAnimationFrame(d)}}}return{snow:function(d,b){if(typeof(b)=="string"){if(d.length>0){for(var c=0;c<d.length;c++){if(d[c].snow){d[c].snow.clear()}}}else{d.snow.clear()}}else{if(d.length>0){for(var c=0;c<d.length;c++){new a().snow(d[c],b)}}else{new a().snow(d,b)}}}}})();